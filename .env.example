# ─── MongoDB ──────────────────────────────────────────────────────
MONGODB_URI=mongodb+srv://user:pass@your-cluster.mongo.ondigitalocean.com/oxy-production?tls=true&authSource=admin&replicaSet=your-replica-set

# ─── API ──────────────────────────────────────────────────────────
PORT=8080
NODE_ENV=production
ACCESS_TOKEN_SECRET=your-jwt-secret

# ─── S3 / DigitalOcean Spaces (main assets) ──────────────────────
AWS_REGION=ams3
AWS_S3_BUCKET=oxy-bucket
AWS_ENDPOINT_URL=https://ams3.digitaloceanspaces.com
AWS_ACCESS_KEY_ID=your-key
AWS_SECRET_ACCESS_KEY=your-secret

# ─── Email ────────────────────────────────────────────────────────
SMTP_ENABLED=true
EMAIL_DOMAIN=oxy.so

# DKIM (generate with: node packages/api/scripts/generate-dkim.js)
DKIM_SELECTOR=default
DKIM_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nYOUR_KEY_HERE\n-----END RSA PRIVATE KEY-----"

# SMTP TLS (certs from Caddy shared via Docker volume)
SMTP_TLS_KEY=/certs/certificates/acme-v02.api.letsencrypt.org-directory/api.oxy.so/api.oxy.so.key
SMTP_TLS_CERT=/certs/certificates/acme-v02.api.letsencrypt.org-directory/api.oxy.so/api.oxy.so.crt

# S3 bucket for email attachments (dedicated, separate from main assets)
EMAIL_S3_BUCKET=oxy-email
EMAIL_S3_REGION=ams3
EMAIL_S3_ENDPOINT=https://ams3.digitaloceanspaces.com
EMAIL_S3_ACCESS_KEY_ID=your-spaces-key
EMAIL_S3_SECRET_ACCESS_KEY=your-spaces-secret

# Spam filtering
SPAM_FILTER_ENABLED=true
SPAM_THRESHOLD=5.0
SPAM_REJECT_THRESHOLD=15.0

# ─── Outbound Relay (optional) ───────────────────────────────────
# Leave empty for direct delivery (needs port 25 unblocked + PTR record)
# SMTP_RELAY_HOST=smtp.sendgrid.net
# SMTP_RELAY_PORT=587
# SMTP_RELAY_USER=apikey
# SMTP_RELAY_PASS=your-sendgrid-api-key
